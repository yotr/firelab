<div class="add-job">
  <!-- content page -->
  <div class="content">
    <!-- title -->
    <h3 class="text-secondary">{{ "customers.add_job.title" | translate }}</h3>
    <!-- content -->
    <div>
      <!-- header -->
      <div
        class="form-header pe-4 ps-4 mt-4 {{
          currentTheme?.colorSchema?.background
        }} {{ currentTheme?.colorSchema?.color }}"
      >
        <div class="d-flex justify-content-between align-items-center w-100">
          <h4 class="m-0">{{ "customers.add_job.title" | translate }}</h4>
          <div></div>
        </div>
      </div>
      <form (ngSubmit)="submit()" [formGroup]="addForm">
        <div class="row">
          <div class="col-sm-12">
            <!-- Describe Job -->
            <div class="form-group mt-2">
              <label
                >{{ "customers.add_job.description" | translate }}
                <span class="text-danger">*</span></label
              >
              <textarea
                class="form-control h-auto"
                formControlName="description"
                rows="4"
              ></textarea>

              <!-- errors -->
              <div
                *ngIf="
                  addForm.get('description')?.invalid &&
                  addForm.get('description')?.touched
                "
              >
                <small
                  *ngIf="
                    addForm.get('description')?.invalid &&
                    addForm.get('description')?.touched
                  "
                  class="text-danger"
                >
                  {{
                    "customers.add_job.description_required" | translate
                  }}</small
                >
              </div>
              <!-- errors -->
            </div>
          </div>
          <div class="col-sm-6">
            <!-- Select Month -->
            <div class="form-group mt-2">
              <label
                >{{ "customers.add_job.date" | translate }}
                <span class="text-danger">*</span></label
              >
              <input class="form-control" type="date" formControlName="dateTime" />

              <!-- errors -->
              <div
                *ngIf="
                  addForm.get('dateTime')?.invalid && addForm.get('dateTime')?.touched
                "
              >
                <small
                  *ngIf="
                    addForm.get('dateTime')?.invalid && addForm.get('dateTime')?.touched
                  "
                  class="text-danger"
                >
                  {{ "customers.add_job.date_required" | translate }}</small
                >
              </div>
              <!-- errors -->
            </div>
          </div>
          <div class="col-sm-6">
            <!-- Select Category -->
            <div class="form-group mt-2">
              <label
                >{{ "customers.add_job.category" | translate }}
                <span class="text-danger">*</span></label
              >
              <select
                class="form-select form-control"
                formControlName="reportCategoryId"
              >
                <option disabled selected>
                  {{ "select" | translate }}
                </option>
                <ng-container *ngFor="let category of categories">
                  <option [value]="category?.id">
                    {{ category?.name }}
                  </option>
                </ng-container>
                <option *ngIf="!categoriesLoading && categories.length == 0" disabled>
                  {{ "customers.add_job.no_data" | translate }}
                </option>
              </select>
              <!-- errors -->
              <div
                *ngIf="
                  addForm.get('reportCategoryId')?.invalid &&
                  addForm.get('reportCategoryId')?.touched
                "
              >
                <small
                  *ngIf="
                    addForm.get('reportCategoryId')?.invalid &&
                    addForm.get('reportCategoryId')?.touched
                  "
                  class="text-danger"
                >
                  {{ "customers.add_job.category_required" | translate }}</small
                >
              </div>
              <!-- errors -->
            </div>
          </div>
          <div class="col-sm-6">
            <!-- Type -->
            <div class="form-group mt-2">
              <label
                >{{ "customers.add_job.type" | translate }}
                <span class="text-danger">*</span></label
              >
              <select class="form-select form-control" formControlName="type">
                <option disabled selected>
                  {{ "select" | translate }}
                </option>
                <ng-container *ngFor="let type of types">
                  <option [value]="type?.name">
                    {{ type?.name }}
                  </option>
                </ng-container>
                <option *ngIf="!typesLoading && types.length == 0" disabled>
                  {{ "customers.add_job.type_required" | translate }}
                </option>
              </select>
              <!-- errors -->
              <div
                *ngIf="
                  addForm.get('type')?.invalid && addForm.get('type')?.touched
                "
              >
                <small
                  *ngIf="
                    addForm.get('type')?.invalid && addForm.get('type')?.touched
                  "
                  class="text-danger"
                >
                  {{ "customers.add_job.type" | translate }}</small
                >
              </div>
              <!-- errors -->
            </div>
          </div>
          <div class="col-sm-6">
            <!-- Job Id -->
            <div class="form-group mt-2">
              <label>{{ "customers.add_job.job_id" | translate }} </label>
              <input class="form-control" type="text" formControlName="jobId" />
            </div>
          </div>
        </div>
        <!-- buttons -->
        <div class="btns">
          <div></div>
          <!-- submit -->
          <div class="save-btn text-center">
            <button type="submit" class="save mt-4">
              {{ "save" | translate }}
            </button>
          </div>
        </div>
      </form>
    </div>
  </div>
  <!-- /content page -->
  <div class="reports-sidebar">
    <app-customer-reports-sidebar></app-customer-reports-sidebar>
  </div>
</div>


<!-- loading section -->
<div *ngIf="uploading">
  <app-loading-section></app-loading-section>
</div>
<!-- /loading section -->
